(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f567126c"],{"99af":function(e,t,a){"use strict";var i=a("23e7"),n=a("d039"),l=a("e8b5"),r=a("861d"),o=a("7b0b"),s=a("07fa"),c=a("8418"),d=a("65f0"),p=a("1dde"),u=a("b622"),m=a("2d00"),b=u("isConcatSpreadable"),h=9007199254740991,f="Maximum allowed index exceeded",g=m>=51||!n((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),v=p("concat"),y=function(e){if(!r(e))return!1;var t=e[b];return void 0!==t?!!t:l(e)},T=!g||!v;i({target:"Array",proto:!0,forced:T},{concat:function(e){var t,a,i,n,l,r=o(this),p=d(r,0),u=0;for(t=-1,i=arguments.length;t<i;t++)if(l=-1===t?r:arguments[t],y(l)){if(n=s(l),u+n>h)throw TypeError(f);for(a=0;a<n;a++,u++)a in l&&c(p,u,l[a])}else{if(u>=h)throw TypeError(f);c(p,u++,l)}return p.length=u,p}})},a352:function(e,t,a){},bf16:function(e,t,a){"use strict";a("a352")},d7af:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{center:"",title:e.dialog.title,visible:e.dialog.visible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialog,"visible",t)}}},[a("span",[e._v(e._s(e.dialog.tipMsg))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogOkClick}},[e._v("确 定")])],1)])],1)},n=[],l={props:{dialog:{visible:!1,title:"提示",tipMsg:"",trsfParm:{}}},methods:{dialogOkClick:function(){this.dialog.visible=!1,this.$emit("okClick",this.dialog.trsfParm)}}},r=l,o=a("2877"),s=Object(o["a"])(r,i,n,!1,null,null,null);t["a"]=s.exports},f14a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{staticClass:"colGroup",attrs:{span:8}},[a("h4",{staticStyle:{"margin-left":"20px"}},[e._v("播放区域")]),a("div",{staticStyle:{"margin-right":"20px","margin-left":"20px"}},[a("el-form",{ref:"devZone",attrs:{inline:!0,rules:e.rule_zone,model:e.devZone}},[a("el-form-item",{attrs:{label:"区域",prop:"name"}},[a("el-input",{attrs:{placeholder:"区域名称"},model:{value:e.devZone.name,callback:function(t){e.$set(e.devZone,"name",t)},expression:"devZone.name"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleCreate("devZone")}}},[e._v(" 添加 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.zoneDeleDisable},on:{click:function(t){return e.handleDelete()}}},[e._v(" 删除 ")]),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","cell-class-name":e.tableCellClassName,border:"",data:e.tableData,loading:e.loading,"max-height":"500px"},on:{"cell-click":e.handleCurrentChange}},[a("el-table-column",{attrs:{label:"名称",prop:"name"}})],1)],1)],1)]),a("el-col",{staticClass:"colGroup",attrs:{span:14}},[a("h4",{staticStyle:{"margin-left":"20px"}},[e._v("设备类型")]),a("div",{staticStyle:{"margin-right":"20px","margin-left":"20px"}},[a("el-form",{ref:"deviceType",attrs:{inline:!0,rules:e.rules,model:e.deviceType,"label-width":"132px"}},[a("el-form-item",{attrs:{label:"类型ID",prop:"id"}},[a("el-input",{model:{value:e.deviceType.id,callback:function(t){e.$set(e.deviceType,"id",e._n(t))},expression:"deviceType.id"}})],1),a("el-form-item",{attrs:{label:"类型名称",prop:"name"}},[a("el-input",{model:{value:e.deviceType.name,callback:function(t){e.$set(e.deviceType,"name",t)},expression:"deviceType.name"}})],1),a("el-form-item",{attrs:{label:"提前时间(秒)",prop:"preOpenTime"}},[a("el-input",{attrs:{placeholder:"单位:秒"},model:{value:e.deviceType.preOpenTime,callback:function(t){e.$set(e.deviceType,"preOpenTime",e._n(t))},expression:"deviceType.preOpenTime"}})],1),a("el-form-item",{attrs:{label:"HD空间报警阈值",prop:"hd"}},[a("el-input",{attrs:{placeholder:"单位:GB"},model:{value:e.deviceType.hd,callback:function(t){e.$set(e.deviceType,"hd",e._n(t))},expression:"deviceType.hd"}})],1),a("el-form-item",{attrs:{label:"自动开机"}},[a("el-checkbox",{model:{value:e.deviceType.bAutoOpen,callback:function(t){e.$set(e.deviceType,"bAutoOpen",t)},expression:"deviceType.bAutoOpen"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addDevType("deviceType")}}},[e._v(" 添加 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.tyoeDeleDisable},on:{click:e.deleteDevType}},[e._v(" 删除 ")]),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","cell-class-name":e.tableCellClassName,border:"",data:e.tableData_type,loading:e.loading,"max-height":"500px"},on:{"cell-click":e.handleCurrentChange_devType}},[a("el-table-column",{attrs:{label:"类型ID",prop:"id"}}),a("el-table-column",{attrs:{label:"类型名称",prop:"name"}}),a("el-table-column",{attrs:{label:"是否自动开机",prop:"bAutoOpen",formatter:e.formatBoolean}}),a("el-table-column",{attrs:{label:"开机提前时间",prop:"preOpenTime",formatter:e.formatTime}}),a("el-table-column",{attrs:{label:"硬盘空间报警阈值",prop:"hd"}})],1)],1)],1)])],1),a("tip-dialog",{attrs:{dialog:e.dialogOb},on:{okClick:e.dialogClick}})],1)},n=[],l=(a("a434"),a("b0c0"),a("99af"),a("d7af")),r=a("5c96"),o={components:{tipDialog:l["a"]},data:function(){return{tableData:[],formObj:{name:""},dialogOb:{visible:!1,title:"提示",tipMsg:"",trsfParm:{}},currentRow:null,loading:!1,devZone:{name:""},zoneDeleDisable:!0,currentRow_devType:null,tyoeDeleDisable:!0,deviceType:{id:null,bAutoOpen:!1,preOpenTime:null,name:"",hd:null},tableData_type:[],rules:{id:[{required:!0,message:"请输入ID",trigger:"blur"},{type:"number",min:0,max:65535,message:"必须为数字值"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],preOpenTime:[{required:!0,message:"请配置时间",trigger:"blur"},{type:"number",min:0,max:3600,message:"大小要在0到3600"}],hd:[{required:!0,message:"请配置阈值",trigger:"blur"},{type:"number",message:"必须为数字值"}]},rule_zone:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},watch:{currentRow:function(e){console.log("选择",e),this.zoneDeleDisable=void 0==e},currentRow_devType:function(e){this.tyoeDeleDisable=void 0==e}},methods:{dialogClick:function(e){if(e.isZone){console.log("删除",this.currentRow);var t=this.tableData[this.currentRow],a=this;this.$httpApi.zoneList_delete(t).then((function(e){"0"==e.data.code?a.tableData.splice(a.currentRow,1):r["Message"].error(e.data.message)}))}else{console.log("删除",this.currentRow_devType),t=this.tableData_type[this.currentRow_devType];var i=this;this.$httpApi.typdeList_delete(t).then((function(e){"0"==e.data.code?i.tableData_type.splice(i.currentRow_devType,1):r["Message"].error(e.data.message)}))}},handleCreate:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("erroe submit"),!1;var a={name:t.devZone.name},i=t;t.$httpApi.zoneList_add(a).then((function(e){"0"==e.data.code?i.tableData.push({name:i.devZone.name}):r["Message"].error(e.data.message)}))}))},handleDelete:function(){this.dialogOb.tipMsg="是否删除 "+this.tableData[this.currentRow].name+" ？",this.dialogOb.visible=!0,this.dialogOb.trsfParm.isZone=!0},tableCellClassName:function(e){var t=e.row,a=e.column,i=e.rowIndex,n=e.columnIndex;t.index=i,a.index=n},handleCurrentChange:function(e){this.currentRow=e.index},handleCurrentChange_devType:function(e){this.currentRow_devType=e.index},addDevType:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.deviceType,i=t;t.$httpApi.typdeList_add(a).then((function(e){"0"==e.data.code?i.tableData_type.push(JSON.parse(JSON.stringify(a))):r["Message"].error(e.data.message)}))}))},deleteDevType:function(){this.dialogOb.tipMsg="是否删除 "+this.tableData_type[this.currentRow_devType].name+" ？",this.dialogOb.visible=!0,this.dialogOb.trsfParm.isZone=!1},formatBoolean:function(e,t,a){var i="";return i=a?"是":"否",i},formatTime:function(e,t,a){var i=parseInt(a/3600),n=parseInt(a/60%60),l=Math.ceil(a%60),r=i<10?"0"+i:i,o=l>59?59:l;return"".concat(r>0?"".concat(r,":"):"").concat(n<10?"0"+n:n,":").concat(o<10?"0"+o:o)}},mounted:function(){var e=this;e.loading=!0,this.$httpApi.zoneList_get().then((function(t){e.loading=!1,"0"==t.data.code&&(e.tableData=t.data.zoneList)})).catch((function(){e.loading=!1})),this.$httpApi.typdeList().then((function(t){"0"==t.data.code&&(e.tableData_type=t.data.dataList)})).catch((function(){}))}},s=o,c=(a("bf16"),a("2877")),d=Object(c["a"])(s,i,n,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-f567126c.b21a2189.js.map