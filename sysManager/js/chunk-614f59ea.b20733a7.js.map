{"version":3,"sources":["webpack:///./src/views/menu/User.vue?0566","webpack:///./src/views/menu/User.vue?de56","webpack:///./src/views/menu/user/loginData.vue?3782","webpack:///src/views/menu/user/loginData.vue","webpack:///./src/views/menu/user/loginData.vue?6d56","webpack:///./src/views/menu/user/loginData.vue","webpack:///src/views/menu/User.vue","webpack:///./src/views/menu/User.vue?ae29","webpack:///./src/views/menu/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","ref","treeData","on","rightClick","clickFunc","scopedSlots","_u","key","fn","data","icon","_v","_s","name","trsfData","id","trsfType","isAdd","addStaAction","changeStationName","changeLineName","addLinAction","_e","directives","rawName","value","expression","showAddLine","addLine","showDeleteLine","deleteLinAction","showAddStation","$event","addStation","showDeleteStation","deleteStation","showAddTrain","staticStyle","showDeleteTrain","dialog","visible","$set","tipMsg","slot","dialogOkClick","staticRenderFns","table_ui_data","component","components","loginData","stationinfoVue","lineInfoVue","node","menuVisible","currentData","currentNode","sideShow_allLine","sideShow_line","sideShow_station","isLine","methods","console","log","object","$refs","tree","setCurrentKey","Node","level","JSON","stringify","type","document","addEventListener","foo","menu","querySelector","style","left","MouseEvent","clientX","top","clientY","removeEventListener","trdata","isTrain","leaf","ob","getCurrentNode","ob2","getNode","loaded","expand","append","ob1","childNodes","that","$httpApi","deleteLine","then","response","code","remove","deleteSta","stat","mounted","th"],"mappings":"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","file":"js/chunk-614f59ea.b20733a7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"fullHeight borderDes\"},[_c('el-tree',{ref:\"tree\",attrs:{\"highlight-current\":true,\"data\":_vm.treeData,\"default-expand-all\":\"\",\"node-key\":\"id\",\"expand-on-click-node\":false},on:{\"node-contextmenu\":_vm.rightClick,\"node-click\":_vm.clickFunc},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_c('svg-icon',{staticClass:\"treeICon\",attrs:{\"icon-class\":data.icon}}),_vm._v(_vm._s(data.name)+\" \")],1)])}}])})],1)]),_c('el-col',{attrs:{\"span\":19}},[_c('div',{staticClass:\"fullHeight\"},[(_vm.sideShow_allLine)?_c('loginData'):(_vm.sideShow_station)?_c('stationinfoVue',{attrs:{\"code\":_vm.trsfData.id,\"isStation\":_vm.trsfType,\"isAdd\":_vm.isAdd},on:{\"add\":_vm.addStaAction,\"change\":_vm.changeStationName}}):(_vm.sideShow_line)?_c('lineInfoVue',{attrs:{\"code\":_vm.trsfData.id,\"isAdd\":_vm.isAdd},on:{\"change\":_vm.changeLineName,\"add\":_vm.addLinAction}}):_vm._e()],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuVisible),expression:\"menuVisible\"}],staticClass:\"menu\",attrs:{\"id\":\"menu\"}},[_c('div',{staticClass:\"menu__item\"},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"disabled\":!_vm.showAddLine},on:{\"click\":_vm.addLine}},[_vm._v(\"新增线路\")])],1),_c('div',{staticClass:\"menu__item\"},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"disabled\":!_vm.showDeleteLine},on:{\"click\":_vm.deleteLinAction}},[_vm._v(\"删除线路\")])],1),_c('div',{staticClass:\"menu__item\"},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"disabled\":!_vm.showAddStation},on:{\"click\":function($event){return _vm.addStation(true)}}},[_vm._v(\"新增车站\")])],1),_c('div',{staticClass:\"menu__item\"},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"disabled\":!_vm.showDeleteStation},on:{\"click\":_vm.deleteStation}},[_vm._v(\"删除车站\")])],1),_c('div',{staticClass:\"menu__item\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"disabled\":!_vm.showAddTrain},on:{\"click\":function($event){return _vm.addStation(false)}}},[_vm._v(\"新增列车\")])],1),_c('div',{staticClass:\"menu__item\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"disabled\":!_vm.showDeleteTrain},on:{\"click\":_vm.deleteStation}},[_vm._v(\"删除列车\")])],1)]),_c('el-dialog',{attrs:{\"center\":\"\",\"title\":\"提示\",\"visible\":_vm.dialog.visible,\"width\":\"20%\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"visible\", $event)}}},[_c('span',[_vm._v(_vm._s(_vm.dialog.tipMsg))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialog.visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogOkClick}},[_vm._v(\"确 定\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('edit-table',{attrs:{\"table_ui_data\":_vm.table_ui_data}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n      <edit-table\r\n      \r\n      :table_ui_data=\"table_ui_data\"\r\n      >\r\n\r\n      </edit-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\r\ndata(){\r\n    return {\r\n        table_ui_data:[{\r\n            prop:'id',\r\n            label:'用户ID',\r\n            disabled: true,\r\n          sortable:true\r\n        },{\r\n            prop:'name',\r\n            label:'用户名'\r\n        },{\r\n            prop:'time',\r\n            label:'登录时间'\r\n        },{\r\n            prop:'station',\r\n            label:'车站名称'\r\n        },{\r\n            prop:'dev',\r\n            label:'设备名称'\r\n        },{\r\n            prop:'devMac',\r\n            label:'设备MAC'\r\n        },{\r\n            prop:'soft',\r\n            label:'登录软件'\r\n        }]\r\n    }\r\n}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginData.vue?vue&type=template&id=033ae86b&\"\nimport script from \"./loginData.vue?vue&type=script&lang=js&\"\nexport * from \"./loginData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"5\">\r\n        <div class=\"fullHeight borderDes\">\r\n\r\n          <el-tree\r\n            ref=\"tree\"\r\n            :highlight-current=\"true\"\r\n            :data=\"treeData\"\r\n            default-expand-all\r\n            @node-contextmenu=\"rightClick\"\r\n           \r\n            node-key=\"id\"\r\n            :expand-on-click-node=\"false\"\r\n            @node-click=\"clickFunc\"\r\n          >\r\n\r\n            <span\r\n              class=\"custom-tree-node\"\r\n              slot-scope=\"{  data }\"\r\n            >\r\n              <span>\r\n                 <svg-icon :icon-class=\"data.icon\" class=\"treeICon\"  />{{ data.name }}\r\n              </span>\r\n            </span>\r\n\r\n          </el-tree>\r\n\r\n        </div>\r\n\r\n      </el-col>\r\n\r\n      <el-col :span=\"19\">\r\n        <div class=\"fullHeight\">\r\n\r\n          <loginData v-if=\"sideShow_allLine\"></loginData>\r\n          <stationinfoVue\r\n            v-else-if=\"sideShow_station\"\r\n            :code=\"trsfData.id\"\r\n            :isStation=\"trsfType\"\r\n            :isAdd=\"isAdd\"\r\n            @add=\"addStaAction\"\r\n            @change=\"changeStationName\"\r\n          ></stationinfoVue>\r\n          <lineInfoVue\r\n            v-else-if=\"sideShow_line\"\r\n            :code=\"trsfData.id\"\r\n            :isAdd=\"isAdd\"\r\n            @change=\"changeLineName\"\r\n            @add=\"addLinAction\"\r\n          ></lineInfoVue>\r\n\r\n        </div>\r\n      </el-col>\r\n\r\n      <div\r\n        id=\"menu\"\r\n        class=\"menu\"\r\n        v-show=\"menuVisible\"\r\n      >\r\n\r\n        <div class=\"menu__item\">\r\n          <el-button\r\n            type=\"success\"\r\n            icon=\"el-icon-plus\"\r\n            size=\"mini\"\r\n            :disabled=\"!showAddLine\"\r\n            @click=\"addLine\"\r\n          >新增线路</el-button>\r\n\r\n        </div>\r\n\r\n        <div class=\"menu__item\">\r\n          <el-button\r\n            type=\"success\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            :disabled=\"!showDeleteLine\"\r\n            @click=\"deleteLinAction\"\r\n          >删除线路</el-button>\r\n        </div>\r\n\r\n        <div class=\"menu__item\">\r\n          <el-button\r\n            type=\"warning\"\r\n            icon=\"el-icon-plus\"\r\n            size=\"mini\"\r\n            :disabled=\"!showAddStation\"\r\n            @click=\"addStation(true)\"\r\n          >新增车站</el-button>\r\n\r\n        </div>\r\n\r\n        <div class=\"menu__item\">\r\n          <el-button\r\n            type=\"warning\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            :disabled=\"!showDeleteStation\"\r\n            @click=\"deleteStation\"\r\n          >删除车站</el-button>\r\n        </div>\r\n\r\n        <div class=\"menu__item\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-plus\"\r\n            size=\"mini\"\r\n            :disabled=\"!showAddTrain\"\r\n            @click=\"addStation(false)\"\r\n          >新增列车</el-button>\r\n\r\n        </div>\r\n\r\n        <div\r\n          class=\"menu__item\"\r\n          style=\"margin-bottom:5px\"\r\n        >\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            :disabled=\"!showDeleteTrain\"\r\n            @click=\"deleteStation\"\r\n          >删除列车</el-button>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <el-dialog\r\n        center\r\n        title=\"提示\"\r\n        :visible.sync=\"dialog.visible\"\r\n        width=\"20%\"\r\n      >\r\n        <span>{{dialog.tipMsg}}</span>\r\n        <span\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\"\r\n        >\r\n          <el-button @click=\"dialog.visible = false\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"dialogOkClick\"\r\n          >确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport loginData from \"./user/loginData.vue\";\r\nimport stationinfoVue from \"./lineCfg/stationinfo.vue\";\r\nimport lineInfoVue from \"./lineCfg/lineInfo.vue\";\r\nimport { Message } from \"element-ui\";\r\nexport default {\r\n  components: {\r\n    loginData,\r\n    stationinfoVue,\r\n    lineInfoVue,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      node: null,\r\n      treeData: [{ name: \"用户和组\", type: 1, id: \"parentID\",icon:'occ' }],\r\n    \r\n      menuVisible: false,\r\n      showAddLine: false,\r\n      showAddStation: false,\r\n      showDeleteLine: false,\r\n      showDeleteStation: false,\r\n      showDeleteTrain: false,\r\n      showAddTrain: false,\r\n      currentData: null,\r\n      currentNode: null,\r\n\r\n      sideShow_allLine: false,\r\n      sideShow_line: false,\r\n      sideShow_station: false,\r\n\r\n      trsfData: \"\",\r\n      trsfType: true,\r\n      isAdd: false,\r\n      dialog: {\r\n        visible: false,\r\n        tipMsg: \"\",\r\n        isLine: false,\r\n        id: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    changeStationName(id, name) {\r\n      this.trsfData.name = id + \"  \" + name;\r\n    },\r\n    changeLineName(id, name) {\r\n      console.log(id + \"  \" + name);\r\n      this.trsfData.name = id + \"  \" + name;\r\n    },\r\n    \r\n    rightClick(MouseEvent, object, Node) {\r\n      this.menuVisible = false;\r\n      this.currentData = object; // 定义变量接收该节点所对应的对象\r\n      this.$refs.tree.setCurrentKey(object.id);\r\n      this.currentNode = Node; // 定义变量接收该节点对应的 Nod\r\n\r\n      console.log(\"right click level=\", Node.level, JSON.stringify(object));\r\n      this.showDeleteLine =\r\n        this.showAddTrain =\r\n        this.showAddStation =\r\n          Node.level != 1 && object.type == 3;\r\n      this.showDeleteStation = Node.level != 1 && object.type == 4;\r\n      this.showDeleteTrain = Node.level != 1 && object.type == 5;\r\n\r\n      this.showAddLine = Node.level == 1 || object.type < 4;\r\n\r\n      this.menuVisible = true;\r\n      document.addEventListener(\"click\", this.foo); // 监听事件鼠标点击事件，若点击则隐藏菜单\r\n\r\n      var menu = document.querySelector(\"#menu\");\r\n\r\n      menu.style.left = MouseEvent.clientX - 150 + \"px\";\r\n      menu.style.top = MouseEvent.clientY - 60 + \"px\";\r\n      this.clickFunc(object, Node, null);\r\n    },\r\n    foo() {\r\n      this.menuVisible = false;\r\n      document.removeEventListener(\"click\", this.foo);\r\n    },\r\n\r\n    clickFunc(trdata) {\r\n   \r\n      console.log(\"获取信息：\" + JSON.stringify(trdata));\r\n\r\n      this.sideShow_allLine = trdata.type == 1;\r\n      this.sideShow_line = trdata.type == 3;\r\n      this.sideShow_station =\r\n        trdata.type == 2 || trdata.type == 4 || trdata.type == 5;\r\n\r\n      this.trsfData = trdata;\r\n      this.trsfType = trdata.type != 5;\r\n      this.isAdd = false;\r\n    },\r\n\r\n    addLine() {\r\n      this.isAdd = true;\r\n      this.sideShow_allLine = this.sideShow_station = false;\r\n      this.sideShow_line = true;\r\n      this.trsfData = this.currentData;\r\n      this.trsfType = false;\r\n    },\r\n    addStaAction(id, name, isTrain) {\r\n      console.log(\"添加完成站点\", id, name);\r\n      var data = {\r\n        id: id,\r\n        type: isTrain ? 5 : 4,\r\n        name: id + \" \" + name,\r\n        leaf: true,\r\n      };\r\n\r\n      var ob = this.$refs.tree.getCurrentNode();\r\n      var ob2 = this.$refs.tree.getNode(ob);\r\n\r\n      if(ob2.isLeaf)\r\n      {\r\n        ob2.loaded = false;\r\n        ob2.expand();\r\n        console.log('调用expand');\r\n\r\n      }else{\r\n        this.$refs.tree.append(data, ob);\r\n        console.log('直接增加');\r\n      }\r\n\r\n     \r\n      \r\n \r\n      this.$refs.tree.setCurrentKey(id);\r\n      var ob1 = this.$refs.tree.getNode(data);\r\n    \r\n      this.clickFunc(data, ob1, null);\r\n    },\r\n    addLinAction(id, name) {\r\n      console.log(id, name);\r\n\r\n      var data = {\r\n        id: id,\r\n        type: 3,\r\n        name: id + \" \" + name,\r\n        leaf: true,\r\n      };\r\n\r\n      this.$refs.tree.append(data, this.node.childNodes[0]);\r\n\r\n      this.$refs.tree.setCurrentKey(id);\r\n      var ob = this.$refs.tree.getNode(data);\r\n      this.clickFunc(data, ob, null);\r\n    },\r\n    dialogOkClick() {\r\n      var that = this;\r\n      var ob = that.$refs.tree.getCurrentNode();\r\n\r\n      console.log(\"删除\" + ob.id);\r\n      if (this.dialog.isLine) {\r\n        this.$httpApi.deleteLine(ob.id).then(function (response) {\r\n          if (response.data.code == \"0\") {\r\n            if (ob) {\r\n              that.$refs.tree.remove(ob);\r\n            }\r\n          } else {\r\n            Message.error(response.data.message);\r\n          }\r\n        });\r\n      } else {\r\n        this.$httpApi.deleteSta(ob.id).then(function (response) {\r\n          if (response.data.code == \"0\") {\r\n            if (ob) {\r\n              that.$refs.tree.remove(ob);\r\n            }\r\n          } else {\r\n            Message.error(response.data.message);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.dialog.visible = false;\r\n    },\r\n    deleteLinAction() {\r\n      var that = this;\r\n\r\n      var ob = that.$refs.tree.getCurrentNode();\r\n\r\n      this.dialog.tipMsg = \"是否删除\" + ob.id + \"?\";\r\n      this.dialog.isLine = true;\r\n      this.dialog.visible = true;\r\n    },\r\n    deleteStation() {\r\n      var that = this;\r\n\r\n      var ob = that.$refs.tree.getCurrentNode();\r\n\r\n      this.dialog.tipMsg = \"是否删除\" + ob.id + \"?\";\r\n      this.dialog.isLine = false;\r\n      this.dialog.visible = true;\r\n    },\r\n    addStation(stat) {\r\n      this.isAdd = true;\r\n      this.sideShow_allLine = false;\r\n      this.sideShow_station = true;\r\n      this.sideShow_line = false;\r\n      this.trsfData = this.currentData;\r\n      this.trsfType = stat;\r\n      console.log(this.trsfData, this.trsfType);\r\n    },\r\n  },\r\n  mounted() {\r\n   var th = this;\r\n   this.$httpApi.user_tree_list().then(res=>{\r\n\r\n     if(res.data.code == '0')\r\n     {\r\n       console.log(JSON.stringify(res.data.dataList));\r\nth.treeData = res.data.dataList;\r\n\r\n\r\n     }else{\r\n       Message.error(res.data.message);\r\n     }\r\n   });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.borderDes {\r\n  border: 1px solid lightgray;\r\n  border-top-style: none;\r\n  border-bottom-style: none;\r\n  border-left-style: none;\r\n}\r\n.fullHeight {\r\n  height: 90vh;\r\n}\r\n.iconSpan {\r\n  margin-left: 2px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.box-card {\r\n  width: 200px;\r\n  background-color: lightslategrey;\r\n}\r\n.el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {\r\n  background: rgb(112, 144, 235);\r\n  color: #fff;\r\n}\r\n\r\n.menu__item {\r\n  display: block;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n}\r\n.menu {\r\n  width: 150px;\r\n  position: absolute;\r\n  border-radius: 10px;\r\n\r\n  border: 1px solid lightgray;\r\n  background-color: #f4f4f4;\r\n}\r\n.treeICon{\r\n  margin-right: 5px;\r\n  margin-left: 5px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=68da639b&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}